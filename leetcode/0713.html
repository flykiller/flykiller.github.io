<!DOCTYPE html>
<html lang="en"><head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Leetcode 0713. Subarray Product Less Than K | Dmitry Babichev algorithms</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Leetcode 0713. Subarray Product Less Than K" />
<meta name="author" content="Dmitry Babichev" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="It is given that all numbers are natural, that is they are more or equal than 1. The idea is to use two pointers (or sliding window) approach, where at each moment of time we try to extend our window. Let us beg, end-1 be the beginning and end of our window (it means that if beg=end=0, our window is empty), P is current product of numbers in our window and out is our answer we need to return." />
<meta property="og:description" content="It is given that all numbers are natural, that is they are more or equal than 1. The idea is to use two pointers (or sliding window) approach, where at each moment of time we try to extend our window. Let us beg, end-1 be the beginning and end of our window (it means that if beg=end=0, our window is empty), P is current product of numbers in our window and out is our answer we need to return." />
<meta property="og:site_name" content="Dmitry Babichev algorithms" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-04-02T10:03:58+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Leetcode 0713. Subarray Product Less Than K" />
<script type="application/ld+json">
{"url":"/leetcode/0713.html","@type":"BlogPosting","headline":"Leetcode 0713. Subarray Product Less Than K","dateModified":"2021-04-02T10:03:58+02:00","datePublished":"2021-04-02T10:03:58+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"/leetcode/0713.html"},"author":{"@type":"Person","name":"Dmitry Babichev"},"description":"It is given that all numbers are natural, that is they are more or equal than 1. The idea is to use two pointers (or sliding window) approach, where at each moment of time we try to extend our window. Let us beg, end-1 be the beginning and end of our window (it means that if beg=end=0, our window is empty), P is current product of numbers in our window and out is our answer we need to return.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Dmitry Babichev algorithms" />
    






  
  
</head>

    
    <!-- for mathjax support -->
    
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Dmitry Babichev algorithms</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/content/">Content</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <span>[
  
]</span>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Leetcode 0713. Subarray Product Less Than K</h1>
    <p class="post-meta"><time class="dt-published" datetime="2021-04-02T10:03:58+02:00" itemprop="datePublished">
        Apr 2, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>It is given that all numbers are natural, that is they are more or equal than <code class="language-plaintext highlighter-rouge">1</code>. The idea is to use two pointers (or sliding window) approach, where at each moment of time we try to extend our window. Let us <code class="language-plaintext highlighter-rouge">beg, end-1</code> be the beginning and end of our window (it means that if <code class="language-plaintext highlighter-rouge">beg=end=0</code>, our window is empty), <code class="language-plaintext highlighter-rouge">P</code> is current product of numbers in our window and <code class="language-plaintext highlighter-rouge">out</code> is our answer we need to return.</p>

<p>On each iteration, we extend our window by one number to the right: however we need to check first, that the product do not exceed <code class="language-plaintext highlighter-rouge">k</code>. So, we remove numbers from the beginning of our window, until product is less then <code class="language-plaintext highlighter-rouge">k</code>. Note also, that we can not have <code class="language-plaintext highlighter-rouge">end &lt; beg</code>, so we break if it is the case: it means than our window becomes empty. Finally, we  update <code class="language-plaintext highlighter-rouge">out += end - beg + 1</code>: this is number of subarrays ending with <code class="language-plaintext highlighter-rouge">end</code> with product less than <code class="language-plaintext highlighter-rouge">k</code>.</p>

<p><strong>Complexity</strong>: time complexity is <code class="language-plaintext highlighter-rouge">O(n)</code>, because on each step we increase either <code class="language-plaintext highlighter-rouge">beg</code> or <code class="language-plaintext highlighter-rouge">end</code>. Space complexity is <code class="language-plaintext highlighter-rouge">O(1)</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">numSubarrayProductLessThanK</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
        <span class="n">out</span><span class="p">,</span> <span class="n">beg</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">P</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">end</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
            <span class="n">P</span> <span class="o">*=</span> <span class="n">nums</span><span class="p">[</span><span class="n">end</span><span class="p">]</span>
            <span class="k">while</span> <span class="n">end</span> <span class="o">&gt;=</span> <span class="n">beg</span> <span class="ow">and</span> <span class="n">P</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="p">:</span>
                <span class="n">P</span> <span class="o">/=</span> <span class="n">nums</span><span class="p">[</span><span class="n">beg</span><span class="p">]</span>
                <span class="n">beg</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">out</span> <span class="o">+=</span> <span class="n">end</span> <span class="o">-</span> <span class="n">beg</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">end</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">out</span>
</code></pre></div></div>

  </div><a class="u-url" href="/leetcode/0713.html" hidden></a>
</article>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">Dmitry Babichev</li>
          <li><a class="u-email" href="mailto:dimitry008@gmail.com">dimitry008@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Here you can find solution to some algorithmic problems, at the moment it is mainly leetcode problems.
</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
The first part is used to enable inline equation.