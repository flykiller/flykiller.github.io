<!DOCTYPE html>
<html lang="en"><head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Leetcode 1658. Minimum Operations to Reduce X to Zero | Dmitry Babichev’s webpage</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Leetcode 1658. Minimum Operations to Reduce X to Zero" />
<meta name="author" content="Dmitry Babichev" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="https://leetcode.com/problems/minimum-operations-to-reduce-x-to-zero" />
<meta property="og:description" content="https://leetcode.com/problems/minimum-operations-to-reduce-x-to-zero" />
<meta property="og:site_name" content="Dmitry Babichev’s webpage" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-04-25T14:49:57+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Leetcode 1658. Minimum Operations to Reduce X to Zero" />
<script type="application/ld+json">
{"url":"/leetcode/1658.html","@type":"BlogPosting","headline":"Leetcode 1658. Minimum Operations to Reduce X to Zero","dateModified":"2021-04-25T14:49:57+02:00","datePublished":"2021-04-25T14:49:57+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"/leetcode/1658.html"},"author":{"@type":"Person","name":"Dmitry Babichev"},"description":"https://leetcode.com/problems/minimum-operations-to-reduce-x-to-zero","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Dmitry Babichev's webpage" />
    






  
  
</head>

    
    <!-- for mathjax support -->
    
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Dmitry Babichev&#39;s webpage</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/leetcode%20problems/">Leetcode problems</a><a class="page-link" href="/coding%20ideas/">Patterns</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <span>[
  
    
    <a href="/tag/accumulate"><code class="highligher-rouge"><nobr>accumulate</nobr></code>&nbsp;</a>
  
    
    <a href="/tag/sliding window"><code class="highligher-rouge"><nobr>sliding window</nobr></code>&nbsp;</a>
  
    
    <a href="/tag/hash table"><code class="highligher-rouge"><nobr>hash table</nobr></code>&nbsp;</a>
  
]</span>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Leetcode 1658. Minimum Operations to Reduce X to Zero</h1>
    <p class="post-meta"><time class="dt-published" datetime="2021-04-25T14:49:57+02:00" itemprop="datePublished">
        Apr 25, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><a href="https://leetcode.com/problems/minimum-operations-to-reduce-x-to-zero"> <font color="blue">https://leetcode.com/problems/minimum-operations-to-reduce-x-to-zero</font></a></p>

<p>We can reformulate this problem: we need to choose several values from the beginning and several values from end, such that sum of this numbers is equal to <code class="language-plaintext highlighter-rouge">x</code>. It is equivalent to finding some contiguous subarray, such that it has sum of elements equal to <code class="language-plaintext highlighter-rouge">sum(nums) - x</code>, which has the biggest length. In this way problem becomes quite classical and I prefer to solve it using cumulative sums.</p>

<p>Imagine, that we have <code class="language-plaintext highlighter-rouge">nums = [1,1,4,2,3], x = 5</code>. Then we need to find contiguous subarray, such that its sum is equal to <code class="language-plaintext highlighter-rouge">sum(nums) - x = 6</code>. It means, that we need to find two cumulative sums, one of them equal to <code class="language-plaintext highlighter-rouge">goal</code> plus another one. Note also, that all <code class="language-plaintext highlighter-rouge">nums</code> are <strong>positive</strong>, so all cumulative sums will be different.</p>

<p>We keep in <code class="language-plaintext highlighter-rouge">dic</code> indexes for each cumulative sum, so, when we iterate <code class="language-plaintext highlighter-rouge">num in dic</code> and check if <code class="language-plaintext highlighter-rouge">num + goal in dic</code>, then we can get length of window: <code class="language-plaintext highlighter-rouge">dic[num + goal] - dic[num]</code> and update <code class="language-plaintext highlighter-rouge">ans</code>.</p>

<p><strong>Complexity</strong>: time complexity is <code class="language-plaintext highlighter-rouge">O(n)</code>, space complexity as well.</p>

<p><strong>Remark</strong>: this idea will work also if we can have <strong>negative</strong> numbers in our <code class="language-plaintext highlighter-rouge">nums</code>. We need to keep in <code class="language-plaintext highlighter-rouge">dic</code> smallest and biggest indexes for each value of cumulative sum and then find maximum between ends of two segments.  If we asked to find window of minimum length, and we have negative numbers, it is also possible, but we need to keep defaultdict of all indexes and then use idea of merge sort to find closest pair. Complexities will be also <code class="language-plaintext highlighter-rouge">O(n)</code>. I think I saw these problems on leetcode, but I do not remember they numbers, if you recognize them, please let me know!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minOperations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="p">:</span>
        <span class="n">cumsum</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">accumulate</span><span class="p">(</span><span class="n">nums</span><span class="p">))</span>
        <span class="n">dic</span> <span class="o">=</span> <span class="p">{</span><span class="n">c</span><span class="p">:</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cumsum</span><span class="p">)}</span>
        <span class="n">goal</span> <span class="o">=</span> <span class="n">cumsum</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="o">-</span><span class="nb">float</span><span class="p">(</span><span class="s">"inf"</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">goal</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

        <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">dic</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">num</span> <span class="o">+</span> <span class="n">goal</span> <span class="ow">in</span> <span class="n">dic</span><span class="p">:</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">dic</span><span class="p">[</span><span class="n">num</span> <span class="o">+</span> <span class="n">goal</span><span class="p">]</span> <span class="o">-</span> <span class="n">dic</span><span class="p">[</span><span class="n">num</span><span class="p">])</span>

        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="o">-</span> <span class="n">ans</span> <span class="k">if</span> <span class="n">ans</span> <span class="o">!=</span> <span class="o">-</span><span class="nb">float</span><span class="p">(</span><span class="s">"inf"</span><span class="p">)</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></div></div>

<p>If you like the solution, you can <strong>upvote</strong> it on leetcode discussion section:<a href="https://leetcode.com/problems/minimum-operations-to-reduce-x-to-zero/discuss/1016199/python-o(n)-solution-using-cumulative-sums"> <font color="blue">Problem 1658</font></a></p>

  </div><a class="u-url" href="/leetcode/1658.html" hidden></a>
</article>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">Dmitry Babichev</li>
          <li><a class="u-email" href="mailto:dimitry008@gmail.com">dimitry008@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Here you can find solution to some algorithmic problems, at the moment it is mainly leetcode problems.
</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>