<!DOCTYPE html>
<html lang="en"><head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Leetcode 0332. Reconstruct Itinerary | Dmitry Babichev algorithms</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Leetcode 0332. Reconstruct Itinerary" />
<meta name="author" content="Dmitry Babichev" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="https://leetcode.com/problems/reconstruct-itinerary" />
<meta property="og:description" content="https://leetcode.com/problems/reconstruct-itinerary" />
<meta property="og:site_name" content="Dmitry Babichev algorithms" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-04-04T21:46:12+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Leetcode 0332. Reconstruct Itinerary" />
<script type="application/ld+json">
{"url":"/leetcode/0332.html","@type":"BlogPosting","headline":"Leetcode 0332. Reconstruct Itinerary","dateModified":"2021-04-04T21:46:12+02:00","datePublished":"2021-04-04T21:46:12+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"/leetcode/0332.html"},"author":{"@type":"Person","name":"Dmitry Babichev"},"description":"https://leetcode.com/problems/reconstruct-itinerary","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Dmitry Babichev algorithms" />
    






  
  
</head>

    
    <!-- for mathjax support -->
    
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Dmitry Babichev algorithms</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/leetcode%20problems/">Leetcode Problems</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <span>[
  
    
    <a href="/tag/dfs"><code class="highligher-rouge"><nobr>dfs</nobr></code>&nbsp;</a>
  
    
    <a href="/tag/graph algorithms"><code class="highligher-rouge"><nobr>graph algorithms</nobr></code>&nbsp;</a>
  
]</span>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Leetcode 0332. Reconstruct Itinerary</h1>
    <p class="post-meta"><time class="dt-published" datetime="2021-04-04T21:46:12+02:00" itemprop="datePublished">
        Apr 4, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><a href="https://leetcode.com/problems/reconstruct-itinerary"> <font color="blue">https://leetcode.com/problems/reconstruct-itinerary</font></a></p>

<p>Actually, in this problem we are asked to find Euler path, smallest lexically. There is classical algorithm with complexity <code class="language-plaintext highlighter-rouge">O(E)</code>. Starting from the starting vertex <code class="language-plaintext highlighter-rouge">v</code>, we build a path by adding at each step an edge that has not yet been passed and is adjacent to the current vertex. The vertices of the path are accumulated in stack <code class="language-plaintext highlighter-rouge">S</code>. When the moment comes when for the current node <code class="language-plaintext highlighter-rouge">w</code> all the incident edges have already passed, we write the vertices from <code class="language-plaintext highlighter-rouge">S</code> in output until we meet the node where the incident has not passed yet edges. Then we continue our traversal of the unattended edges. It can be written both with recursion or with stack, recursion version is shorter.</p>

<p>Here is a link, where you can plunge deeper into this:
http://www.graph-magics.com/articles/euler.php</p>

<p>If you neves saw this problem and even if you know what <strong>Euler path</strong> is, I think it is almost impossible to invent this algorighm by yourself, and this problem should be marked as <strong>hard</strong>.</p>

<p><strong>Complexity</strong>: time and space complexity of usual Euler Path Finding algorighm is <code class="language-plaintext highlighter-rouge">O(E+V) = O(E)</code>, because we traverse each edge only once and number of edges is more than number of vertixes - 1 in Eulerian graph. However as @ainkartik203 mentioned, here we sort our list for every node, so complexity will be <code class="language-plaintext highlighter-rouge">O(E log E)</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">airport</span><span class="p">):</span>
        <span class="k">while</span> <span class="bp">self</span><span class="p">.</span><span class="n">adj_list</span><span class="p">[</span><span class="n">airport</span><span class="p">]:</span>
            <span class="n">candidate</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">adj_list</span><span class="p">[</span><span class="n">airport</span><span class="p">].</span><span class="n">pop</span><span class="p">()</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">dfs</span><span class="p">(</span><span class="n">candidate</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">route</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">airport</span><span class="p">)</span>
            
    <span class="k">def</span> <span class="nf">findItinerary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tickets</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">route</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">adj_list</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="n">tickets</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">adj_list</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">adj_list</span><span class="p">:</span> 
            <span class="bp">self</span><span class="p">.</span><span class="n">adj_list</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">adj_list</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
            
        <span class="bp">self</span><span class="p">.</span><span class="n">dfs</span><span class="p">(</span><span class="s">"JFK"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">route</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></div>

<p>If you like the solution, you can <strong>upvote</strong> it on leetcode discussion section:<a href="https://leetcode.com/problems/reconstruct-itinerary/discuss/709590/python-short-euler-path-finding-oe-log-e-explained"> <font color="blue">Problem 0332</font></a></p>

  </div><a class="u-url" href="/leetcode/0332.html" hidden></a>
</article>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">Dmitry Babichev</li>
          <li><a class="u-email" href="mailto:dimitry008@gmail.com">dimitry008@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Here you can find solution to some algorithmic problems, at the moment it is mainly leetcode problems.
</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>