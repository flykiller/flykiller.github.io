<!DOCTYPE html>
<html lang="en"><head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Leetcode 0421. Maximum XOR of Two Numbers in an Array | Dmitry Babichev’s webpage</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Leetcode 0421. Maximum XOR of Two Numbers in an Array" />
<meta name="author" content="Dmitry Babichev" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="https://leetcode.com/problems/maximum-xor-of-two-numbers-in-an-array" />
<meta property="og:description" content="https://leetcode.com/problems/maximum-xor-of-two-numbers-in-an-array" />
<meta property="og:site_name" content="Dmitry Babichev’s webpage" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-07-28T22:19:26+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Leetcode 0421. Maximum XOR of Two Numbers in an Array" />
<script type="application/ld+json">
{"url":"/leetcode/0421.html","@type":"BlogPosting","headline":"Leetcode 0421. Maximum XOR of Two Numbers in an Array","dateModified":"2021-07-28T22:19:26+02:00","datePublished":"2021-07-28T22:19:26+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"/leetcode/0421.html"},"author":{"@type":"Person","name":"Dmitry Babichev"},"description":"https://leetcode.com/problems/maximum-xor-of-two-numbers-in-an-array","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Dmitry Babichev's webpage" />
    






  
  
</head>

    
    <!-- for mathjax support -->
    
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Dmitry Babichev&#39;s webpage</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/leetcode%20problems/">Leetcode problems</a><a class="page-link" href="/coding%20ideas/">Patterns</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <span>[
  
    
    <a href="/tag/bit manipulation"><code class="highligher-rouge"><nobr>bit manipulation</nobr></code>&nbsp;</a>
  
    
    <a href="/tag/trie"><code class="highligher-rouge"><nobr>trie</nobr></code>&nbsp;</a>
  
    
    <a href="/tag/greedy"><code class="highligher-rouge"><nobr>greedy</nobr></code>&nbsp;</a>
  
    
    <a href="/tag/digit build"><code class="highligher-rouge"><nobr>digit build</nobr></code>&nbsp;</a>
  
]</span>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Leetcode 0421. Maximum XOR of Two Numbers in an Array</h1>
    <p class="post-meta"><time class="dt-published" datetime="2021-07-28T22:19:26+02:00" itemprop="datePublished">
        Jul 28, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><a href="https://leetcode.com/problems/maximum-xor-of-two-numbers-in-an-array"> <font color="blue">https://leetcode.com/problems/maximum-xor-of-two-numbers-in-an-array</font></a></p>

<p>Let us try to build the biggest XOR number binary digit by digit. So, the first question we are going to ask, is there two numbers, such that its XOR starts with <code class="language-plaintext highlighter-rouge">1......</code> (length is <code class="language-plaintext highlighter-rouge">32</code> bits). Howe we can find it? Let us use the idea of Problem 1: TwoSum: put all prefixes of lengh one to set and then try to find two numbers in this set such that their XOR starts with <code class="language-plaintext highlighter-rouge">1</code> (at first we have at most <code class="language-plaintext highlighter-rouge">2</code> elements in our set). Imagine that there are two numbers, which XOR starts with <code class="language-plaintext highlighter-rouge">1......</code>, then the next question is there are two numbers with XOR starts with <code class="language-plaintext highlighter-rouge">11.....</code>, we again iterate through all numbers and find two of them with <code class="language-plaintext highlighter-rouge">XOR</code> starts with <code class="language-plaintext highlighter-rouge">11</code>. It can happen that on the next step we did not find <code class="language-plaintext highlighter-rouge">XOR</code> starts with <code class="language-plaintext highlighter-rouge">111.....</code>, then we do not change our <code class="language-plaintext highlighter-rouge">ans</code> and on next step we are looking for <code class="language-plaintext highlighter-rouge">XOR</code> starts with <code class="language-plaintext highlighter-rouge">1101...</code> and so on. So:</p>

<ol>
  <li>We iterate, starting from the first digit in binary representation of number and go to the right.</li>
  <li>For each traversed digit we update our binary mask: in the beginning it is <code class="language-plaintext highlighter-rouge">10000...000</code>, then it is <code class="language-plaintext highlighter-rouge">11000...000</code>, <code class="language-plaintext highlighter-rouge">11100...000</code> and in the end <code class="language-plaintext highlighter-rouge">11111...111</code>. We need this mask to quickly extract information about first several digits of our number.</li>
  <li>Create set of all possible starts of numbers, using <code class="language-plaintext highlighter-rouge">num &amp; mask</code>: on the first iterations it will be first digit, on the next one first two digits and so on.</li>
  <li>Apply TwoSum problem: if we found two numbers with <code class="language-plaintext highlighter-rouge">XOR</code> starting with <code class="language-plaintext highlighter-rouge">start</code>, then we are happy: we update our <code class="language-plaintext highlighter-rouge">ans</code> and break for inner loop: so we continue to look at the next digit.</li>
</ol>

<p><strong>Complexity</strong>: Time complexity is <code class="language-plaintext highlighter-rouge">O(32n)</code>, because we traverse our numbers exactly <code class="language-plaintext highlighter-rouge">32</code> times. I do not like when this is called <code class="language-plaintext highlighter-rouge">O(n)</code> complexity, because we have quite big constant here. Space complexity is <code class="language-plaintext highlighter-rouge">O(n)</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findMaximumXOR</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">):</span>
        <span class="n">ans</span><span class="p">,</span> <span class="n">mask</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">mask</span> <span class="o">|=</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">i</span>
            <span class="n">found</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">num</span> <span class="o">&amp;</span> <span class="n">mask</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">])</span>
                
            <span class="n">start</span> <span class="o">=</span> <span class="n">ans</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">i</span>
            <span class="k">for</span> <span class="n">pref</span> <span class="ow">in</span> <span class="n">found</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">start</span><span class="o">^</span><span class="n">pref</span> <span class="ow">in</span> <span class="n">found</span><span class="p">:</span>
                    <span class="n">ans</span> <span class="o">=</span> <span class="n">start</span>
                    <span class="k">break</span>
         
        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div></div>

<p>If you like the solution, you can <strong>upvote</strong> it on leetcode discussion section:<a href="https://leetcode.com/problems/maximum-xor-of-two-numbers-in-an-array/discuss/849128/python-o(32n)-solution-explained"> <font color="blue">Problem 0421</font></a></p>

  </div><a class="u-url" href="/leetcode/0421.html" hidden></a>
</article>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">Dmitry Babichev</li>
          <li><a class="u-email" href="mailto:dimitry008@gmail.com">dimitry008@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Here you can find solution to some algorithmic problems, at the moment it is mainly leetcode problems.
</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>