<!DOCTYPE html>
<html lang="en"><head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Leetcode 0258. Add Digits | Dmitry Babichev’s webpage</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Leetcode 0258. Add Digits" />
<meta name="author" content="Dmitry Babichev" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="https://leetcode.com/problems/add-digits" />
<meta property="og:description" content="https://leetcode.com/problems/add-digits" />
<meta property="og:site_name" content="Dmitry Babichev’s webpage" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-01-08T15:10:12+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Leetcode 0258. Add Digits" />
<script type="application/ld+json">
{"url":"/leetcode/0258.html","@type":"BlogPosting","headline":"Leetcode 0258. Add Digits","dateModified":"2022-01-08T15:10:12+01:00","datePublished":"2022-01-08T15:10:12+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"/leetcode/0258.html"},"author":{"@type":"Person","name":"Dmitry Babichev"},"description":"https://leetcode.com/problems/add-digits","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Dmitry Babichev's webpage" />
    






  
  
</head>

    
    <!-- for mathjax support -->
    
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Dmitry Babichev&#39;s webpage</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/leetcode%20problems/">Leetcode problems</a><a class="page-link" href="/coding%20ideas/">Patterns</a><a class="page-link" href="/coding%20ideas%202/">Patterns 2</a><a class="page-link" href="/performance%20tricks/">Speed up</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <span>[
  
    
    <a href="/tag/math"><code class="highligher-rouge"><nobr>math</nobr></code>&nbsp;</a>
  
]</span>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Leetcode 0258. Add Digits</h1>
    <p class="post-meta"><time class="dt-published" datetime="2022-01-08T15:10:12+01:00" itemprop="datePublished">
        Jan 8, 2022
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><a href="https://leetcode.com/problems/add-digits"> <font color="blue">https://leetcode.com/problems/add-digits</font></a></p>

<p>Straightforward solution of this problem is to do exactly what is asked, until we get only one digit. However, there is smarter mathematical solution, using property of division by <code class="language-plaintext highlighter-rouge">9</code>. Let us condiser first example and then formulate result for general case:</p>

<p>Let <code class="language-plaintext highlighter-rouge">n = 18102</code>. Then numbers <code class="language-plaintext highlighter-rouge">n</code> and <code class="language-plaintext highlighter-rouge">sum(n)</code> (where by <code class="language-plaintext highlighter-rouge">sum(n)</code> we denote sum of digits of number <code class="language-plaintext highlighter-rouge">n</code>) have the same remainder if we divide them by <code class="language-plaintext highlighter-rouge">9</code>. Why so? To prove, that two numbers have the same remainder is equivalent to prove, that difference of these two numbers is divisible by <code class="language-plaintext highlighter-rouge">9</code>. Indeed:
<code class="language-plaintext highlighter-rouge">18102 - sum(18102) =10000 + 8*1000 + 1*100 + 0*10 + 2 - (1 + 8 + 1 + 0 + 2) = 9999 + 8*999 + 1*99 + 0*9 + 0</code> is divisible by <code class="language-plaintext highlighter-rouge">9</code>, because each term is divisible by <code class="language-plaintext highlighter-rouge">9</code>. So, now, we can state theorem:</p>

<p><strong>Theorem</strong> For any natural number <code class="language-plaintext highlighter-rouge">n</code>: numbers <code class="language-plaintext highlighter-rouge">n</code> and <code class="language-plaintext highlighter-rouge">sum(n)</code> have the same remainder if we divide them by <code class="language-plaintext highlighter-rouge">9</code>.
<strong>Proof</strong>: let <code class="language-plaintext highlighter-rouge">n = a_n ... a_2 a_1 a_0</code>, then <code class="language-plaintext highlighter-rouge">n - sum(n) = a_n* 99...9 + ... + a_2 * 99 + a_1*9 + 0</code>, which is divisible by <code class="language-plaintext highlighter-rouge">9</code>.</p>

<p>Now, let us go back to our problem: we evaluate sum of digits of our number several times, until we reached <code class="language-plaintext highlighter-rouge">1</code>-digit number. On each iteration remainder of divition by <code class="language-plaintext highlighter-rouge">9</code> is the same. So in the very end it also be the same! So, what we need to do is just return this reminder? Almost, there are two cases we need to hanlde:</p>
<ol>
  <li>If <code class="language-plaintext highlighter-rouge">n = 0</code>, then we return <code class="language-plaintext highlighter-rouge">0</code>.</li>
  <li>If <code class="language-plaintext highlighter-rouge">n &gt; 1</code> and <code class="language-plaintext highlighter-rouge">n</code> is divisible by <code class="language-plaintext highlighter-rouge">9</code>, then reminder is equal to <code class="language-plaintext highlighter-rouge">0</code>. However we can not reach <code class="language-plaintext highlighter-rouge">0</code>, and the answer will be another digit with reminder equal to <code class="language-plaintext highlighter-rouge">0</code>, which is <code class="language-plaintext highlighter-rouge">9</code>.</li>
</ol>

<p><strong>Complexity</strong>: time and space complexity is <code class="language-plaintext highlighter-rouge">O(1)</code>.</p>

<p>Finally, it can be written as oneliner:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">addDigits</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="p">(</span><span class="n">num</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">9</span> <span class="o">+</span> <span class="mi">1</span>
</code></pre></div></div>

<p>If you like the solution, you can <strong>upvote</strong> it on leetcode discussion section:<a href="https://leetcode.com/problems/add-digits/discuss/756533/python-math-o(1)-oneliner-explained"> <font color="blue">Problem 0258</font></a></p>

  </div><a class="u-url" href="/leetcode/0258.html" hidden></a>
</article>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">Dmitry Babichev</li>
          <li><a class="u-email" href="mailto:dimitry008@gmail.com">dimitry008@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Here you can find solution to some algorithmic problems, at the moment it is mainly leetcode problems.
</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>